<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7" xmlns:wb="http://open.weibo.com/wb"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8" xmlns:wb="http://open.weibo.com/wb"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en" xmlns:wb="http://open.weibo.com/wb"><!--<![endif]-->
<html xmlns:wb="http://open.weibo.com/wb">
  <meta charset="utf-8">
  <title>
		昂信嵌入式 - 让所有传统电子设备实现互联网+
	
  </title>
  <meta name="author" content="苏州昂信科技有限公司">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.emsym.com/blog">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="昂信嵌入式" type="application/atom+xml">

  <meta name="renderer" content="webkit">
<meta property="wb:webmaster" content="432b3dbfc4405367" />
<!--  
<link href="/javascripts/libs/bootstrap-3.0.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/javascripts/libs/bootstrap-3.0.0/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css" -->  
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">

<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">



  <script src="http://libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
  

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">
							<img src="/images/logo.png" width="218px" alt="昂信嵌入式"/>
						</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="/products/blurr/">Blurr</a></li>
                <li><a href="/products/jazz/">Jazz</a></li>
                <li><a href="/blog">实验室</a></li>
                <li><a href="/doc">文档</a></li>
                <li><a href="http://menuconfig.cn">问答</a></li>
            </ul>
						
        </div>
    </div>
</nav>


      </header>

          <div class="container">
<div class="blog-index">
  
  
  
    <article>
      
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        














<span class="glyphicon glyphicon-calendar"></span> 
<time datetime="2015-07-03T00:43:59+08:00" pubdate data-updated="true">
2015-07-03
</time>


        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2015/07/03/javaji-chu-zhi-jniyuan-li/">java基础之JNI原理</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>利用JNI实现安卓的Java代码调用C语言API。</p>

</div>
  
  
    <footer>
      <a class="btn btn-default" rel="full-article" href="/blog/2015/07/03/javaji-chu-zhi-jniyuan-li/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        














<span class="glyphicon glyphicon-calendar"></span> 
<time datetime="2015-06-05T12:53:07+08:00" pubdate data-updated="true">
2015-06-05
</time>


        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2015/06/05/rtu/">RTU</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>RTU的英文全称为Remote Terminal Unit, 中文全称远程终端单元。</p>

<p>RTU具有的特点是:</p>

<p>1.通信距离较长;</p>

<p>2.用于各种环境恶劣的工业现场;</p>

<p>3.模块结构化设计，便于扩展;</p>

<p>4.在具有遥信，遥测，遥控的领域的水利等行业广泛使用。</p>

<p>RTU是一种远程测控单元装置，负责对现场的信号及工业设备的监测和控制。与常用的PLC相比，RTU具有优良的通讯能力，更多的计算功能，适用于更恶劣的温度及湿度环境。针对水环境监测及控制的需求，开发出一款实用性及良好的扩展性兼备的RTU，型号为XXXX</p>

<p>该款RTU有如下特点:</p>

<p>1.采用24V供电系统;</p>

<p>2.8路控制输出，输出电平可配置为5V或12V，具有较好的兼容性;</p>

<p>3.8路电平输入，采用光耦隔离，具备良好的抗干扰能力;</p>

<p>4.模拟电压信号输入;</p>

<p>5.4-20mA电流信号输入;</p>

<p>6.RS485通信接口;</p>

<p>7.高速USB通信接口;</p>

<p>8.SPI通信接口;</p>

<p>9.采用modbus-rtu通信协议;</p>

<p>10.使用高性能的32位ARM-Cortex处理芯片;</p>

<p>11.预留I/O扩展功能。</p>

<p>备注：模拟电压及电流信号输入共用12个模拟信号采集通道，可根据实际需求进行组合配置。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        














<span class="glyphicon glyphicon-calendar"></span> 
<time datetime="2015-05-01T17:42:16+08:00" pubdate data-updated="true">
2015-05-01
</time>


        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2015/05/01/measurement-of-ph/">pH值 水质测量设备的物联网化</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>目前工业上广泛使用的各类变送器大致可以分为两类。第一类为模拟量输出，输出
为4-20mA电流信号。第二类为数字信号输出，该类变送器多配有串行的通信
接口(如RS485)。也有一些变送器同时配有这两种接口。</p>

<p>水质的酸碱度由一个传感器采集，传感器输出信号经过变送器之后输出显示，如图1
所示的一个正在工作的PH/ORP变送器：
<img class="center" src="/assets/2015/ph-measurement.jpg" width="500">
图1：变送器工作状态</p>

<p>图1所示的变送器输出的是4-20mA的电流信号。电路信号通过采样电阻可以转变为容
易测量的电压信号，如图2所示：将转变后的电压信号输入外部的采集板。
<img class="center" src="/assets/2015/fsl-KEA-with-pH.jpg" width="500">
图2：采集板</p>

<p>图3为外部的采集板采集到的数据，与图1中显示的电流值相比，两者相差0.34mA。
<img class="center" src="/assets/2015/current-measurement.jpg" width="500">
图3：实际采集到的电流值</p>

<p>由于变送器不具备控制功能，因此在需要保持水环境在一定的酸碱度范围内的情况下，
需要设计一个酸碱度控制器，控制器实时监测酸碱度，在其超出设定范围后控制
化学药剂的使用量来调整水的酸碱度。</p>

<p>随着自动化水平的提高，现场作业人员的数量逐渐减少，各类控制器的数量却随之增
加。现如今我们对于信息获取的速度要求也越来越高，而数据量越来越大，为此设备
的物联网化是一个行之有效的方法：控制器实现工业现场离散信息的获取，通过总线
将获取到的信息汇总至中央处理模块，该模块负责数据的分析处理，实时显示及上传
等工作，最终实现与移动终端的互联。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        














<span class="glyphicon glyphicon-calendar"></span> 
<time datetime="2015-04-21T22:54:38+08:00" pubdate data-updated="true">
2015-04-21
</time>


        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2015/04/21/golang-for-windows/">Golang 编译windows应用程序</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>因为我们更喜欢在Linux上开发程序，
所以生成交叉编译器，以便在Linux上交叉编译出windows程序。</p>

<div class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">#</span> 安装minGW：在Linux上运行gcc交叉编译生成windows程序
<span class="gp">#</span> 我们用到Cgo，因此需要安装 C 语言交叉编译器
<span class="go">sudo apt-get install gcc-mingw-w64</span>

<span class="gp">#</span> 下载Go语言的源代码
<span class="go">git clone https://github.com/golang/go.git</span>

<span class="gp">#</span> 32-bit go-compiler <span class="k">for</span> windows
<span class="go">GOOS=windows GOARCH=386 CGO_ENABLED=1 CXX_FOR_TARGET=i686-w64-mingw32-g++ CC_FOR_TARGET=i686-w64-mingw32-gcc ./make.bash</span>

<span class="gp">#</span> 64-bit 编译器
<span class="go">GOOS=windows GOARCH=amd64 CGO_ENABLED=1 CXX_FOR_TARGET=x86_64-w64-mingw32-g++ CC_FOR_TARGET=x86_64-w64-mingw32-gcc ./make.bash </span>

<span class="gp">#</span> 非交叉编译，生成Linux程序
<span class="go">GOOS=linux GOARCH=amd64 CGO_ENABLED=1 CXX_FOR_TARGET=g++ CC_FOR_TARGET=gcc ./make.bash </span>

<span class="gp">#</span> 生成Go编译器之后，以下命令执行交叉编译，生成windows程序
<span class="go">GOOS=windows GOARCH=386 go build</span></code></pre></div>


<h1>Cgo </h1>

<p><img class="right" src="/assets/2015/ffmpeg-win.png" width="627">
最终的目标是要生成windows程序，所以Cgo引用的库文件也必须是windows版本的。
以ffmpeg库为例：参考截图，在ffmpeg文件夹之下，新建一个文件夹，名为libwin，
用于保存windows版本的库文件（dll文件）。</p>

<p>pkgconfig 也需要做相应调整。而头文件无需变动。</p>

<p>准备工作只有这么多了。通过指定pkgconfig的路径，就能够交叉编译Cgo程序了。
<code>GOOS=windows GOARCH=386 PKG_CONFIG_PATH=/foo/bar go build</code></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        














<span class="glyphicon glyphicon-calendar"></span> 
<time datetime="2015-04-20T23:08:17+08:00" pubdate data-updated="true">
2015-04-20
</time>


        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2015/04/20/migration-of-the-blog/">Blog系统迁移</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>我们将Blog系统，从wordpress迁移到Jekyll &amp; octopress。
最大的好处是，可以在github编辑页面。</p>

<p>几天之内，我们会将老系统的内容也复制过来。</p>
</div>
  
  


    </article>
  

  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/07/03/javaji-chu-zhi-jniyuan-li/">java基础之JNI原理</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/05/rtu/">RTU</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/01/measurement-of-ph/">pH值 水质测量设备的物联网化</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/21/golang-for-windows/">Golang 编译windows应用程序</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/20/migration-of-the-blog/">Blog系统迁移</a>
      </li>
    
  </ul>
</section>






  
</aside>
</div>

    <footer role="contentinfo"><div class="container">
    <nav id="bottom" class="navbar navbar-inverse" role="navigation">	
	<div class="container">
		<div class="row">
			<div class="col-xs-12 col-sm-4 ">
				<h1>联系我们</h1>
			</div>
			<div class="col-xs-6 col-sm-4  c-img">
				<img src="/images/weixin.jpg"/>
				<div>
					<a href="http://wei.emsym.com">微信号</a>
				</div>
			</div>
			<div class="col-xs-6 col-sm-4  c-img">
				<img src="/images/phone.jpg">
				<div><a href="#">fae@emsym.com</a></div>
			</div>
		</div>
		<p class="">
			Copyright &copy; 2015 - 苏州昂信科技有限公司<br>
			<small>
				<a href="http://www.miibeian.gov.cn/">苏ICP备09077265号</a>
				<span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
				<span class="credit">customized with <a href="https://github.com/mjhea0/octoplate">Octoplate</a></span>
			</small>
		</p>
	</div>
</nav>

</div>
</footer>
    <!-- <script src="/javascripts/libs/bootstrap-3.0.0/dist/js/bootstrap.min.js"></script -->
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

<script src="/javascripts/modernizr-2.0.js"></script>












    </div>
  </body>
</html>
